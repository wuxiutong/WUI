"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("vue");require("./style/tree-node.css");const A=require("./type.js"),D=["id","tabIndex","onKeydown"],x={key:0,class:"z-tree-node-anchor-arrow"},K={key:0,class:"z-tree-node-anchor-arrow-expander-minus",xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 16 16"},T=o.createElementVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"0.5",d:"M 1.2595435,6.004727 H 10.740457",style:{"stroke-width":"0.509454","stroke-linecap":"square","stroke-dasharray":"none"}},null,-1),q=[T],j={key:1,class:"z-tree-node-anchor-arrow-expander-arrow-down",width:"12",height:"12",version:"1.1",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg"},H=o.createElementVNode("path",{fill:"currentColor",d:"m 0,2.3 5.999999,8 L 12,2.3 Z",id:"path1",style:{"stroke-width":"1.38564"}},null,-1),_=[H],W={key:2,xmlns:"http://www.w3.org/2000/svg",class:"z-tree-node-anchor-arrow-expander-plus",viewBox:"-1 -1 14 14"},$=o.createElementVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M 5.994727,1.254727 V 10.73564",id:"path1-8",style:{"stroke-width":"0.509454","stroke-linecap":"square","stroke-dasharray":"none"}},null,-1),Z=o.createElementVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M 1.2595435,6.004727 H 10.740457",id:"path1",style:{"stroke-width":"0.509454","stroke-linecap":"square","stroke-dasharray":"none"}},null,-1),F=[$,Z],O={key:3,class:"z-tree-node-anchor-arrow-expander-arrow-right",width:"12",height:"12",version:"1.1",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg"},U=o.createElementVNode("path",{fill:"currentColor",d:"M 2.3,12 10.3,6.000001 2.3,0 Z",id:"path1",style:{"stroke-width":"1.38564"}},null,-1),G=[U],P=o.createElementVNode("svg",{width:"14px",height:"14px",viewBox:"0 -30 256 300"},[o.createElementVNode("path",{fill:"currentColor",d:"m210.83 85.17l-56-56A4 4 0 0 0 152 28H56a12 12 0 0 0-12 12v176a12 12 0 0 0 12 12h144a12 12 0 0 0 12-12V88a4 4 0 0 0-1.17-2.83M156 41.65L198.34 84H156ZM200 220H56a4 4 0 0 1-4-4V40a4 4 0 0 1 4-4h92v52a4 4 0 0 0 4 4h52v124a4 4 0 0 1-4 4"})],-1),R=[P],X={key:0,class:"z-tree-node-anchor-checkbox-icon-checked"},J=o.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 3 12 12"},[o.createElementVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.2919",d:"M 1.64595,9.2236174 4.5486491,12.354075 10.354047,5.64595",style:{"stroke-width":"1.5","stroke-dasharray":"none"}})],-1),Q=[J],Y={key:1,class:"z-tree-node-anchor-checkbox-icon-half-checked"},ee=o.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 3 12 12"},[o.createElementVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.2919",d:"M 1.73638,8.993499 4.2115414,9.013614 10.263617,8.98638",style:{"stroke-width":"1.47276","stroke-linejoin":"round","stroke-dasharray":"none"},"sodipodi:nodetypes":"ccc"})],-1),oe=[ee],te={key:2,class:"z-tree-node-anchor-checkbox-icon-unchecked"},ne=o.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 0 0"},[o.createElementVNode("path",{fill:"currentColor"})],-1),re=[ne],de={class:"z-tree-node-anchor-content-default"},le={key:0,class:"z-tree-node-anchor-content-id"},se=["innerHTML"],ae={class:"z-tree-node-anchor-content-label"},ie={key:0,class:"z-tree-node-child"},ce={name:"TreeNode"},u=o.defineComponent({...ce,props:{treeNode:{},checkedNodes:{default:()=>[]},expandKeys:{default:()=>[]},maxTabIndex:{},cascade:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1},transition:{default:"slide-fade"},showLine:{type:Boolean,default:!0},expandAll:{type:Boolean,default:!1},checkedAll:{type:Boolean},multipleCheck:{type:Boolean,default:!0},onlyLeafCheck:{type:Boolean,default:!0},enableDblclick:{type:Boolean,default:!1},enableWholeAnchorStatus:{type:Boolean,default:!1},enableCheckConfirm:{type:Boolean,default:!1},showId:{type:Boolean,default:!1},idSeparator:{default:""},hideLeafIcon:{type:Boolean,default:!1},hideExpander:{type:Boolean,default:!1},nodeContentClickAction:{default:A.TreeNodeContentClickActionEnum.NONE},senderElementId:{default:""},treeId:{default:""}},emits:["update:checkedNode","update:expandNode","checkbox-click","node-click","node-dblclick"],setup(p,{emit:w}){const n=p;let s=null,l=!1;const d=w;o.watch(()=>n.treeNode,()=>{});function m(e){let t=e.disabled?"z-tree-node-anchor-disabled":"";return(n.enableWholeAnchorStatus||!n.multipleCheck)&&n.checkedNodes.some(r=>{if(e.id===r.id)return t+=" z-tree-node-anchor-selected",!0}),t}function f(e){let t="";return n.showLine&&(t+=" z-tree-node-line"),t}function N(e){if(e.children&&e.children.length>0&&n.onlyLeafCheck&&(!n.multipleCheck||!n.cascade))return"z-tree-node-anchor-checkbox-disabled"}function C(e,t){n.enableDblclick?(l=!1,s=setTimeout(()=>{l||a(e,t)},200)):a(e,t)}function a(e,t){d("node-click",e,t)}function b(e,t){d("node-click",e,t)}function y(e,t){n.enableDblclick&&(l=!0,clearTimeout(s),d("node-dblclick",e,t))}function E(e,t){d("node-dblclick",e,t)}function i(e){d("update:expandNode",e)}function B(e){d("update:expandNode",e)}function c(e,t){d("checkbox-click",e,t)}function v(e,t){d("checkbox-click",e,t)}function g(){h(n.treeNode.tabIndex??0)}function h(e){const t=document.querySelector("#"+n.treeId+"__"+(e-1));if(t)t.focus();else if(e>0)h(e-1);else if(n.senderElementId){const r=document.querySelector("#"+n.senderElementId);r&&r.focus()}}function z(){k(n.treeNode.tabIndex??0)}function k(e){const t=document.querySelector("#"+n.treeId+"__"+(e+1));t?t.focus():e<=n.maxTabIndex&&e<=Number.MAX_SAFE_INTEGER&&k(e+1)}function V(){if(c(n.treeNode,new MouseEvent("click")),n.senderElementId&&!n.multipleCheck&&!n.treeNode.disabled&&(n.onlyLeafCheck&&(!n.treeNode.children||n.treeNode.children.length<=0)||!n.onlyLeafCheck)){const e=document.querySelector("#"+n.senderElementId);e&&e.focus()}}function I(){n.treeNode.expanded=!0}function L(){n.treeNode.expanded=!1}return(e,t)=>(o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(["z-tree-node",f(e.treeNode)])},[o.createElementVNode("div",{class:o.normalizeClass(["z-tree-node-anchor",m(e.treeNode)]),id:e.treeId+"__"+e.treeNode.tabIndex,tabIndex:e.treeNode.tabIndex,onKeydown:[o.withKeys(o.withModifiers(z,["prevent"]),["down"]),o.withKeys(o.withModifiers(g,["prevent"]),["up"]),o.withKeys(o.withModifiers(L,["prevent"]),["left"]),o.withKeys(o.withModifiers(I,["prevent"]),["right"]),o.withKeys(o.withModifiers(V,["prevent"]),["enter"])],onClick:t[3]||(t[3]=r=>C(e.treeNode,r)),onDblclick:t[4]||(t[4]=r=>y(e.treeNode,r))},[e.hideExpander?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock("span",x,[e.treeNode.children&&e.treeNode.children.length?(o.openBlock(),o.createElementBlock("span",{key:0,class:"z-tree-node-anchor-arrow-expander",onClick:t[0]||(t[0]=o.withModifiers(r=>i(e.treeNode),["stop"]))},[e.treeNode.expanded&&e.showLine?(o.openBlock(),o.createElementBlock("svg",K,q)):o.createCommentVNode("",!0),e.treeNode.expanded&&!e.showLine?(o.openBlock(),o.createElementBlock("svg",j,_)):o.createCommentVNode("",!0),e.showLine&&!e.treeNode.expanded?(o.openBlock(),o.createElementBlock("svg",W,F)):o.createCommentVNode("",!0),!e.showLine&&!e.treeNode.expanded?(o.openBlock(),o.createElementBlock("svg",O,G)):o.createCommentVNode("",!0)])):e.hideLeafIcon?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock("span",{key:1,class:"z-tree-node-anchor-arrow-nochild",onClick:t[1]||(t[1]=o.withModifiers(r=>i(e.treeNode),["stop"]))},R))])),o.withDirectives(o.createElementVNode("span",{class:o.normalizeClass(["z-tree-node-anchor-checkbox",N(e.treeNode)])},[o.createElementVNode("span",{class:"z-tree-node-anchor-checkbox-icon",onClick:t[2]||(t[2]=o.withModifiers(r=>c(e.treeNode,r),["stop"]))},[e.treeNode.checked===1?(o.openBlock(),o.createElementBlock("span",X,Q)):e.treeNode.checked===2?(o.openBlock(),o.createElementBlock("span",Y,oe)):(o.openBlock(),o.createElementBlock("span",te,re))])],2),[[o.vShow,e.multipleCheck||e.showCheckbox&&!e.multipleCheck]]),o.createElementVNode("div",{class:o.normalizeClass(["z-tree-node-anchor-content",e.hideLeafIcon&&(!e.treeNode.children||e.treeNode.children.length<=0)&&!e.showCheckbox&&!e.multipleCheck?"z-tree-node-anchor-content-noicon-nocheckbox":""])},[o.renderSlot(e.$slots,"default",{treeNode:e.treeNode},()=>[o.createElementVNode("div",de,[e.showId?(o.openBlock(),o.createElementBlock("span",le,o.toDisplayString(e.treeNode.id),1)):o.createCommentVNode("",!0),e.showId?(o.openBlock(),o.createElementBlock("span",{key:1,class:"z-tree-node-anchor-content-separator",innerHTML:e.idSeparator},null,8,se)):o.createCommentVNode("",!0),o.createElementVNode("span",ae,o.toDisplayString(e.treeNode.label),1)])])],2)],42,D),o.createVNode(o.Transition,{name:e.transition,mode:"out-in"},{default:o.withCtx(()=>[e.treeNode.expanded?(o.openBlock(),o.createElementBlock("div",ie,[e.treeNode.expanded?(o.openBlock(!0),o.createElementBlock(o.Fragment,{key:0},o.renderList(e.treeNode.children,(r,S)=>(o.openBlock(),o.createBlock(o.unref(u),{"sender-element-id":e.senderElementId,mode:"out-in",key:r.id?r.id:S,"tree-id":e.treeId,"max-tab-index":e.maxTabIndex,cascade:e.cascade,showCheckbox:e.showCheckbox,transition:e.transition,showLine:e.showLine,expandAll:e.expandAll,checkedAll:e.checkedAll,multipleCheck:e.multipleCheck,onlyLeafCheck:e.onlyLeafCheck,enableDblclick:e.enableDblclick,enableWholeAnchorStatus:e.enableWholeAnchorStatus,enableCheckConfirm:e.enableCheckConfirm,showId:e.showId,idSeparator:e.idSeparator,hideLeafIcon:e.hideLeafIcon,hideExpander:e.hideExpander,nodeContentClickAction:e.nodeContentClickAction,treeNode:r,"checked-nodes":e.checkedNodes,expandKeys:e.expandKeys,onCheckboxClick:v,"onUpdate:expandNode":B,onNodeClick:b,onNodeDblclick:E},{default:o.withCtx(M=>[o.renderSlot(e.$slots,"default",{treeNode:M.treeNode})]),_:2},1032,["sender-element-id","tree-id","max-tab-index","cascade","showCheckbox","transition","showLine","expandAll","checkedAll","multipleCheck","onlyLeafCheck","enableDblclick","enableWholeAnchorStatus","enableCheckConfirm","showId","idSeparator","hideLeafIcon","hideExpander","nodeContentClickAction","treeNode","checked-nodes","expandKeys"]))),128)):o.createCommentVNode("",!0)])):o.createCommentVNode("",!0)]),_:3},8,["name"])],2))}});exports.default=u;
